(self.webpackChunktarefas_ui=self.webpackChunktarefas_ui||[]).push([[568],{568:(t,e,a)=>{"use strict";a.r(e),a.d(e,{TarefasModule:()=>b});var n=a(583),i=a(665),r=a(639),s=a(340),o=a(841);let c=(()=>{class t{constructor(t){this.httpClient=t}save(t){return this.httpClient.post(`${s.N.apiUrl}/tarefas`,t)}update(t){return this.httpClient.put(`${s.N.apiUrl}/tarefas/${t.id}`,t)}remove(t){return this.httpClient.delete(`${s.N.apiUrl}/tarefas/${t.id}`)}findById(t){return this.httpClient.get(`${s.N.apiUrl}/tarefas/${t}`)}findByName(t){return this.httpClient.get(`${s.N.apiUrl}/tarefas?nome=${t}`)}findAll(){return this.httpClient.get(`${s.N.apiUrl}/tarefas`)}finalize(t){return this.httpClient.put(`${s.N.apiUrl}/tarefas/${t.id}/finalizar`,t)}arquivar(t){return this.httpClient.put(`${s.N.apiUrl}/tarefas/${t.id}/arquivar`,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o.eN))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var l=a(498);let f=(()=>{class t{constructor(){this.tarefa={},this.tarefaOutput=new r.vpe}onSubmit(){this.tarefaOutput.emit(this.tarefa)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-tarefa-form"]],inputs:{tarefa:"tarefa"},outputs:{tarefaOutput:"tarefaOutput"},decls:14,vars:2,consts:[[1,"form",3,"ngSubmit"],["form","ngForm"],["for","nome"],["id","nome","type","text","name","nome",1,"field",3,"ngModel","ngModelChange"],["nome","ngModel"],["for","descricao"],["id","descricao","rows","10","name","descricao",1,"field",3,"ngModel","ngModelChange"],["descricao","ngModel"],[1,"btn-container"],[1,"btn"],[1,"fa","fa-save"]],template:function(t,e){1&t&&(r.TgZ(0,"form",0,1),r.NdJ("ngSubmit",function(){return e.onSubmit()}),r.TgZ(2,"label",2),r._uU(3,"Nome"),r.qZA(),r.TgZ(4,"input",3,4),r.NdJ("ngModelChange",function(t){return e.tarefa.nome=t}),r.qZA(),r.TgZ(6,"label",5),r._uU(7,"Descri\xe7\xe3o"),r.qZA(),r.TgZ(8,"textarea",6,7),r.NdJ("ngModelChange",function(t){return e.tarefa.descricao=t}),r.qZA(),r.TgZ(10,"div",8),r.TgZ(11,"button",9),r._UZ(12,"i",10),r._uU(13," Salvar "),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(4),r.Q6J("ngModel",e.tarefa.nome),r.xp6(4),r.Q6J("ngModel",e.tarefa.descricao))},directives:[i._Y,i.JL,i.F,i.Fj,i.JJ,i.On],styles:[".form[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:18px}.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:400}.field[_ngcontent-%COMP%]{border:1px solid #dfdfdf;outline:0;padding:10px;margin-bottom:10px}.btn-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end}.btn[_ngcontent-%COMP%]{border:none;background:#3f51b5;color:#fff;padding:10px;cursor:pointer}"]}),t})(),u=(()=>{class t{constructor(t,e,a){this.tarefaService=t,this.router=e,this.activetedRouter=a,this.tarefa={},this.findById(this.activetedRouter.snapshot.params.id)}update(t){this.tarefaService.update(t).subscribe(()=>{this.router.navigateByUrl("/tarefas"),alert("Tarefa editada com sucesso")},t=>alert(t.message))}findById(t){this.tarefaService.findById(t).subscribe(t=>this.tarefa=t,t=>alert(t.message))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(c),r.Y36(l.F0),r.Y36(l.gz))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-editar-tarefa"]],decls:3,vars:1,consts:[[3,"tarefa","tarefaOutput"]],template:function(t,e){1&t&&(r.TgZ(0,"h2"),r._uU(1,"Editar Tarefa"),r.qZA(),r.TgZ(2,"app-tarefa-form",0),r.NdJ("tarefaOutput",function(t){return e.update(t)}),r.qZA()),2&t&&(r.xp6(2),r.Q6J("tarefa",e.tarefa))},directives:[f],styles:[""]}),t})(),d=(()=>{class t{constructor(t,e){this.tarefaService=t,this.router=e}save(t){this.tarefaService.save(t).subscribe(()=>{this.router.navigateByUrl("/tarefas"),alert("Tarefa criada com sucesso")},t=>alert(t.message))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(c),r.Y36(l.F0))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-criar-tarefa"]],decls:3,vars:0,consts:[[3,"tarefaOutput"]],template:function(t,e){1&t&&(r.TgZ(0,"h2"),r._uU(1,"Criar Tarefa"),r.qZA(),r.TgZ(2,"app-tarefa-form",0),r.NdJ("tarefaOutput",function(t){return e.save(t)}),r.qZA())},directives:[f],styles:[""]}),t})();const p=function(t){return{"tarefa-finalizada":t}};function g(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"li",8),r.TgZ(1,"div",9),r.TgZ(2,"div",10),r._uU(3),r.qZA(),r.TgZ(4,"div",11),r._uU(5),r.qZA(),r.qZA(),r.TgZ(6,"div",12),r.TgZ(7,"button",13),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().finalize(e)}),r.TgZ(8,"span",14),r._uU(9,"Finalizar Tarefa"),r.qZA(),r.qZA(),r.TgZ(10,"button",15),r.TgZ(11,"span",14),r._uU(12,"Editar Tarefa"),r.qZA(),r.qZA(),r.TgZ(13,"button",16),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().arquivar(e)}),r.TgZ(14,"span",14),r._uU(15,"Arquivar Tarefa"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(1),r.Q6J("ngClass",r.VKq(11,p,"Finalizada"===t.status)),r.xp6(2),r.AsE(" ",t.nome," - ",t.status," "),r.xp6(2),r.hij(" ",t.descricao," "),r.xp6(2),r.Q6J("ngClass",r.VKq(13,p,"Finalizada"===t.status))("disabled","Finalizada"===t.status),r.xp6(3),r.MGl("routerLink","/tarefas/editar/",t.id,""),r.Q6J("ngClass",r.VKq(15,p,"Finalizada"===t.status))("disabled","Finalizada"===t.status),r.xp6(3),r.Q6J("ngClass",r.VKq(17,p,"Finalizada"===t.status))("disabled","Finalizada"===t.status)}}const h=[{path:"",component:(()=>{class t{constructor(t){this.tarefaService=t,this.tarefas=[],this.findAll()}findAll(){this.tarefaService.findAll().subscribe(t=>this.tarefas=t,t=>alert(t.message))}remove(t){confirm("Tem certeza de que deseja remover esta Tarefa?")&&this.tarefaService.remove(t).subscribe(()=>{this.findAll(),alert("Tarefa removida com sucesso")},t=>alert(t.message))}finalize(t){this.tarefaService.finalize(t).subscribe(()=>{this.findAll(),alert("Tarefa finalizada com sucesso")},t=>alert(t.message))}arquivar(t){confirm("Tem certeza de que deseja arquivar esta Tarefa?")&&this.tarefaService.arquivar(t).subscribe(()=>{this.findAll(),alert("Tarefa arquivada com sucesso")},t=>{alert("Erro ao arquivar tarefa"),console.log(t)})}search(t){const e=t.target.value;""!==e?this.showSearchBtn():this.hideSearchBtn(),13===t.keyCode&&this.tarefaService.findByName(e).subscribe(t=>this.tarefas=t,t=>alert(t.message))}cleanSearch(t){this.cleanInputSearch(t),this.findAll()}cleanInputSearch(t){const e=t.target.parentElement.children[0];e.value="",e.focus(),this.hideSearchBtn()}hideSearchBtn(){const t=document.querySelector(".clean-search-btn");null==t||t.classList.remove("visible")}showSearchBtn(){const t=document.querySelector(".clean-search-btn");null==t||t.classList.add("visible")}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(c))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-listar-tarefa"]],decls:9,vars:1,consts:[[1,"toolbar"],["type","button","routerLink","/tarefas/criar",1,"btn"],[1,"fa","fa-plus"],[1,"input-group"],["autofocus","",1,"field-search",3,"keyup"],[1,"fa","fa-close","clean-search-btn",3,"click"],[1,"list-view"],["class","list-view-item",4,"ngFor","ngForOf"],[1,"list-view-item"],[1,"list-view-item-container",3,"ngClass"],[1,"list-view-item-title"],[1,"list-view-item-description"],[1,"list-view-item-actions"],["type","button",1,"fa","fa-check","action-btn","tooltip",3,"ngClass","disabled","click"],[1,"tooltip-text"],["type","button",1,"fa","fa-pencil","action-btn","tooltip",3,"routerLink","ngClass","disabled"],["type","button",1,"fa","fa-close","action-btn","tooltip",3,"ngClass","disabled","click"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"button",1),r._UZ(2,"i",2),r._uU(3," Nova "),r.qZA(),r.TgZ(4,"div",3),r.TgZ(5,"input",4),r.NdJ("keyup",function(t){return e.search(t)}),r.qZA(),r.TgZ(6,"i",5),r.NdJ("click",function(t){return e.cleanSearch(t)}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"ul",6),r.YNc(8,g,16,19,"li",7),r.qZA()),2&t&&(r.xp6(8),r.Q6J("ngForOf",e.tarefas))},directives:[l.rH,n.sg,n.mk],styles:[".list-view[_ngcontent-%COMP%]{list-style:none;border-top:1px solid #dfdfdf;margin-top:10px}.list-view-item[_ngcontent-%COMP%]{margin:10px 0;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid #dfdfdf}.list-view-item-title[_ngcontent-%COMP%]{font-size:22px;font-weight:500}.list-view-item-description[_ngcontent-%COMP%]{font-size:18px}.list-view-item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:auto}.action-btn[_ngcontent-%COMP%]{margin-left:2px}.action-btn[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]{border:none;background:#3f51b5;color:#fff;padding:10px;cursor:pointer}.btn[_ngcontent-%COMP%]{width:80px}.tarefa-finalizada[_ngcontent-%COMP%]{opacity:.5}.tarefa-finalizada[_ngcontent-%COMP%]   .list-view-item-description[_ngcontent-%COMP%], .tarefa-finalizada[_ngcontent-%COMP%]   .list-view-item-title[_ngcontent-%COMP%]{text-decoration:line-through}.input-group[_ngcontent-%COMP%], .toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.input-group[_ngcontent-%COMP%]{position:relative;padding:0 20px 0 0;width:calc(100% - 80px);align-items:center;border:1px solid #dfdfdf;background:#fff;margin-left:2px}.field-search[_ngcontent-%COMP%]{width:100%;padding:5px;outline:0;font-size:18px;border:none}.clean-search-btn[_ngcontent-%COMP%]{position:absolute;width:20px;height:calc(100% - 2px);right:0;display:flex;align-items:center;justify-content:center;margin-right:5px;color:#dfdfdf;cursor:pointer;display:none}.visible[_ngcontent-%COMP%]{display:flex}.tooltip[_ngcontent-%COMP%]{position:relative;display:inline-block}.tooltip[_ngcontent-%COMP%]   .tooltip-text[_ngcontent-%COMP%]{visibility:hidden;width:120px;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 0;position:absolute;left:0;top:40px;z-index:1;font-size:12px;font-weight:400}.tooltip[_ngcontent-%COMP%]:hover   .tooltip-text[_ngcontent-%COMP%]{visibility:visible}"]}),t})()},{path:"criar",component:d},{path:"editar/:id",component:u}];let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[l.Bz.forChild(h)],l.Bz]}),t})(),b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[n.ez,m,i.u5]]}),t})()}}]);